<main class="form-signin" style="width: 100%; max-width: 800px; margin: auto;">
  <head>
    <link rel="stylesheet" type="text/css" href="/assets/styles.css">
  </head>
  <div style="display: flex;">
    <div style="flex: 0 0 300px;">
      <p>
        <%= image_tag @blog.image.url, class: 'blog-image' %>
      </p>
    </div>
    <div style="flex: 1; margin-left: 40px;">
      <p>
        <%= link_to @blog.user.profile.name, profile_path(@blog.user), class: 'btn btn-link' %>
        <%= @blog.created_at.to_date.strftime('%Y-%m-%d') %>
      </p>
      <div class="blog-details">
        <p>
          <strong>Title:</strong>
          <%= @blog.title %>
        </p>
        <p>
          <strong>Content:</strong>
        </p>
        <div class="blog-content">
          <%= @blog.content.scan(/.{1,30}/).join("<br>").html_safe %>
        </div>
      </div>
      <p>
        <% if user_signed_in? %>
          <% unless @blog.user_id == current_user.id %>
            <% if @favorite.present? %>
              <%= link_to 'お気に入り解除する', favorite_path(id: @favorite.id), method: :delete, class: 'btn btn-danger' %>
            <% else %>
              <%= link_to 'お気に入りする', favorites_path(blog_id: @blog.id), method: :post, class: 'btn btn-primary' %>
            <% end %>
          <% end %>
        <% end %>
      </p>
      <p>
        <% if user_signed_in? && current_user.id == @blog.user_id %>
          <%= link_to 'Edit', edit_blog_path(@blog) %>
        <% end %>
        <%= link_to 'Back', blogs_path %>
      </p>
    </div>
  </div>
</main>
